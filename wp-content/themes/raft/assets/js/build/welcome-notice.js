(()=>{"use strict";document.addEventListener("DOMContentLoaded",(()=>{!function(e){const{activating:t,installing:s,done:a,activationUrl:c,ajaxUrl:i,nonce:o,otterStatus:n}=raftData,r=e(".raft-welcome-notice #raft-install-otter"),d=e(".raft-welcome-notice .notice-dismiss"),l=e(".raft-welcome-notice"),u=r.find(".text"),m=r.find(".dashicons"),f=()=>{l.fadeTo(100,0,(()=>{l.slideUp(100,(()=>{l.remove()}))}))},w=async()=>{var e;u.text(t),await(e=c,new Promise((t=>{jQuery.get(e).done((()=>{t({success:!0})})).fail((()=>{t({success:!1})}))}))),m.removeClass("dashicons-update"),m.addClass("dashicons-yes"),u.text(a),setTimeout(f,1500)};e(r).on("click",(async()=>{m.removeClass("hidden"),r.attr("disabled",!0),"installed"!==n?(u.text(s),await new Promise((e=>{wp.updates.ajax("install-plugin",{slug:"otter-blocks",success:()=>{e({success:!0})},error:t=>{e({success:!1,code:t.errorCode})}})})),await w()):await w()})),e(d).on("click",(()=>{e.post(i,{nonce:o,action:"raft_dismiss_welcome_notice",success:f})}))}(jQuery)}))})();